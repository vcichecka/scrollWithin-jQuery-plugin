/*!
 * Scroll Within, a jQuery plugin 
 * Version v0.1.2
 * http://pongoweb.it/
 *
 * Copyright (c) 2012 Fabio Fumis
 * Licensed under the MIT License: 
 * http://pongoweb.it/license
 */
 
(function(a){a.fn.scrollWithin=function(b){var c=this;var d={active_class:"active",margin:0,parent:false,duration:"slow",easing:null,hash:false,onClickMenu:function(){},onScrollComplete:function(){}};var e=a.extend(d,b);var f=a(c).find("a");f.first().addClass("active");var g=f.first().attr("href");if(g){if(e.hash&&window.location.hash){hash_section=window.location.hash;var h=a(hash_section).position();a("html, body").animate({scrollTop:h.top-e.margin},e.duration,e.easing)}f.live("click",function(){var b=a(this);g=b.attr("href");var d=a(g).position();a("html, body").animate({scrollTop:d.top-e.margin},e.duration,e.easing);e.onClickMenu.call(c);if(!e.hash)return false});a(window).scroll(function(){var b=a(window).scrollTop()+e.margin;f.each(function(c){$link=a(this);g=$link.attr("href");if(g&&b>=a(g).position().top-1){f.removeClass(e.active_class);$link.addClass(e.active_class);if(e.parent){f.parent().removeClass(e.active_class);$link.parent().addClass(e.active_class)}}});if(b+a(window).height()-e.margin==a(document).height()){f.removeClass(e.active_class);f.last().addClass(e.active_class);if(e.parent){f.parent().removeClass(e.active_class);$link.parent().addClass(e.active_class)}}e.onScrollComplete.call(c)})}}})(jQuery)